{
    "name": "Moonlit Echoes - by Rivelle (20250124)",
    "blur_strength": 8,
    "main_text_color": "rgba(204, 204, 204, 1)",
    "italics_text_color": "rgba(150, 150, 150, 1)",
    "underline_text_color": "rgba(250, 198, 121, 1)",
    "quote_text_color": "rgba(81, 160, 222, 1)",
    "blur_tint_color": "rgba(33, 33, 33, 0.65)",
    "chat_tint_color": "rgba(255, 255, 255, 0)",
    "user_mes_blur_tint_color": "rgba(39, 39, 39, 0.5)",
    "bot_mes_blur_tint_color": "rgba(39, 39, 39, 0.8)",
    "shadow_color": "rgba(0, 0, 0, 0.5)",
    "shadow_width": 3,
    "border_color": "rgba(255, 255, 255, 0)",
    "font_scale": 1,
    "fast_ui_mode": false,
    "waifuMode": false,
    "avatar_style": 0,
    "chat_display": 0,
    "noShadows": false,
    "chat_width": 50,
    "timer_enabled": false,
    "timestamps_enabled": true,
    "timestamp_model_icon": true,
    "mesIDDisplay_enabled": false,
    "hideChatAvatars_enabled": false,
    "message_token_count_enabled": false,
    "expand_message_actions": true,
    "enableZenSliders": false,
    "enableLabMode": false,
    "hotswap_enabled": true,
    "custom_css": "/* - - - - - - - - - - - - - - - - -\n\n   \"Moonlit Echoes\" 月下回聲\n   ₊*.⊹ ⁎✧‧₊˚\n\n   Author: Rivelle (https://bio.site/rivelle)\n   Published: 2024-11-24 | Updated: 2025-01-24\n\n   © 2024-2025 Rivelle. All Rights Reserved.\n\n   Special Thanks to: IceFog (forever my king of custom CSS themes!)\n\n   !! To use this theme, please install the extension\n      created by IceFog: \"Custom Theme Style Inputs\"\n      使用此主題前，請先安裝 IceFog 製作的擴充功能 !!\n\n   Git URL: https://github.com/IceFog72/SillyTavern-CustomThemeStyleInputs\n\n   Note: Chat Background Color \"Forced Transparency\"\n\n   - - - - - - - - - - - - - - - - - */\n\n/* CUSTOM THEME STYLE INPUTS 自訂主題樣式輸入\n- - - - - - - - - - - - - - - - - */\n\n:root {\n  --custom-theme-style-inputs: [\n  {\n    \"type\": \"color\",\n    \"varId\": \"customThemeColor\",\n    \"displayText\": \"Theme Primary Color\",\n    \"default\": \"rgba(81, 160, 222, 1)\"\n  },\n  {\n    \"type\": \"color\",\n    \"varId\": \"customThemeColor2\",\n    \"displayText\": \"Theme Secondary Color\",\n    \"default\": \"rgba(250, 198, 121, 1)\"\n  },\n  {\n    \"type\": \"color\",\n    \"varId\": \"customTopBarColor\",\n    \"displayText\": \"Top Bar Color\",\n    \"default\": \"rgba(23, 23, 23, 0.7)\"\n  },\n  {\n    \"type\": \"color\",\n    \"varId\": \"Drawer-iconColor\",\n    \"displayText\": \"Drawer icon Color\",\n    \"default\": \"rgba(255, 255, 255, 0.8)\"\n  },\n  {\n    \"type\": \"slider\",\n    \"varId\": \"customCSS-bg-blur\",\n    \"displayText\": \"Background Image Blur Strength\",\n    \"default\": \"3\",\n    \"min\": 0,\n    \"max\": 10,\n    \"step\": 1\n  },\n  {\n    \"type\": \"color\",\n    \"varId\": \"sheldBackgroundColor\",\n    \"displayText\": \"#sheld Background Color\",\n    \"default\": \"rgba(0, 0, 0, 0.2)\"\n  },\n  {\n    \"type\": \"slider\",\n    \"varId\": \"sheldBlurStrength\",\n    \"displayText\": \"#sheld Blur Strength\",\n    \"default\": \"5\",\n    \"min\": 0,\n    \"max\": 10,\n    \"step\": 1\n  },\n  {\n    \"type\": \"select\",\n    \"varId\": \"customCSS-top-padding\",\n    \"displayText\": \"#chat Top Padding\",\n    \"default\": \"25px\",\n    \"options\": [\n      {\n        \"label\": \"ON\",\n        \"value\": \"25px\"\n      },\n      {\n        \"label\": \"OFF\",\n        \"value\": \"0px\"\n      }\n    ]\n  },\n  {\n    \"type\": \"select\",\n    \"varId\": \"customCSS-chat-gradient-blur\",\n    \"displayText\": \"#chat Gradient Blur\",\n    \"default\": \"Default\",\n    \"options\": [\n      {\n        \"label\": \"Default\",\n        \"value\": \"linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 8%, rgba(0, 0, 0, 1) 92%, rgba(0, 0, 0, 0) 100%)\"\n      },\n      {\n        \"label\": \"Small\",\n        \"value\": \"linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 4%, rgba(0, 0, 0, 1) 96%, rgba(0, 0, 0, 0) 100%)\"\n      },\n      {\n        \"label\": \"None\",\n        \"value\": \"none\"\n      }\n    ]\n  },\n  {\n    \"type\": \"text\",\n    \"varId\": \"custom-ChatAvatar\",\n    \"displayText\": \"#chat Avatar Width & Height\",\n    \"default\": \"40px\"\n  },\n  {\n    \"type\": \"select\",\n    \"varId\": \"VN-sheld-height\",\n    \"displayText\": \"Visual Novel Mode #sheld Height\",\n    \"default\": \"40dvh\",\n    \"options\": [\n      {\n        \"label\": \"40dvh\",\n        \"value\": \"40dvh\"\n      },\n      {\n        \"label\": \"50dvh\",\n        \"value\": \"50dvh\"\n      },\n      {\n        \"label\": \"60dvh\",\n        \"value\": \"60dvh\"\n      }\n    ]\n  }\n]\n}\n\n\n/* CUSTOM STYLES 自定義樣式\n- - - - - - - - - - - - - - - - - */\n\n/* --- BACKGROUND EFFECT 背景模糊 --- */\n\n#bg1, #bg_custom {\n    filter: blur(calc(var(--customCSS-bg-blur) * 1px)) !important;\n}\n\n/* --- CUSTOM COLORS 自定義顏色 --- */\n\n:root {\n  \t--custom-avatar: calc(var(--avatar-base-width) * 0.8);\n    --customThemeMenuColor: var(--SmartThemeChatTintColor);\n    --active: var(--customThemeColor);\n    --SmartThemeCheckboxTickColor: var(--SmartThemeBlurTintColor);\n\n    /* SECONDARY COLORS 次要顏色 */\n    --fullred: rgb(229, 57, 53);\n    --crimson70a: rgb(229, 57, 53);\n    --black30a: rgba(0, 0, 0, 0.2);\n    --black50a: rgba(0, 0, 0, 0.3);\n    --black70a: rgba(0, 0, 0, 0.5);\n    --cobalt30a: rgba(255, 255, 255, 0.3);\n    --okGreen70a: rgb(156, 204, 101, 0.8);\n    --warning: var(--customThemeColor);\n    --golden: var(--customThemeColor);\n\n    /* !!! IMPORTANT: DO NOT MODIFY 不要修改 !!! */\n    --topBarBlockSize: calc(var(--topBarIconSize) + var(--topBarBlockPadding) + 5px);\n    --bottomInputAreaHeight: 115px;\n}\n\n/* --- ALERT RED 紅色警告 --- */\n\n.redOverlayGlow {\n    color: var(--fullred);\n}\n\n/* --- CONNECTION STATUS 連線狀態 --- */\n\n/* ONLINE INDICATOR 在線指示 */\n.online_status_indicator {\n    background-color: var(--crimson70a);\n}\n.online_status_indicator.success {\n    background-color: var(--okGreen70a);\n}\n\n/* SUCCESS INDICATOR 成功指示 */\n.success {\n    color: var(--okGreen70a);\n}\n\n/* --- REMOVE BLACK SHADOW 消除黑色陰影 --- */\n.custom-drawer-icon,\n.inline-drawer-icon,\n.right_menu_button,\ninput[type='checkbox'] {\n    filter: none;\n    box-shadow: none !important;\n}\n.mes_button, .extraMesButtons > div {\n    filter: drop-shadow(0px 0px 2px var(--SmartThemeBlurTintColor));\n}\n.mes_edit_buttons {\n    filter: drop-shadow(0px 0px 2px var(--SmartThemeBlurTintColor));\n}\n#options, #extensionsMenu, .popup .popper-modal, .list-group {\n    box-shadow: 0 0 10px var(--SmartThemeShadowColor);\n}\n\n\n/* GLOBAL BASE STYLES 全局基礎樣式\n- - - - - - - - - - - - - - - - - */\n\n/* --- BASIC 基礎 --- */\n\n/* LINKS 超連結 */\na {\n    color: var(--customThemeColor);\n    transition: all 0.5s ease;\n    font-weight: bold;\n}\na:hover {\n    color: var(--customThemeColor2);\n    filter: none;\n}\n\n\n/* TEXT SELECTION 選中文字 */\n::selection {\n    background-color: color-mix(in srgb, var(--customThemeColor) 50%, transparent 50%);\n    color: #FFF;\n}\n\n/* HORIZONTAL RULE 水平分割線 */\nhr {\n    background-image: none !important;\n    background-color: var(--SmartThemeBodyColor) !important;\n    margin: 20px 0;\n    height: 1px;\n    min-height: 1px;\n    border: 0;\n    opacity: 0.3;\n}\n\n/* --- HEADINGS 標題樣式 --- */\n\nh1 {\n    font-size: calc(var(--mainFontSize) + 0.6rem);\n    color: var(--customThemeColor);\n    margin-bottom: 20px;\n    padding: 10px 0;\n    border-top: 3px solid var(--customThemeColor);\n    border-bottom: 3px solid var(--customThemeColor);\n    line-height: 32px;\n    letter-spacing: 1px;\n}\n\nh2 {\n    font-size: calc(var(--mainFontSize) + 0.5rem);\n    margin: 15px 0;\n    line-height: 30px;\n    letter-spacing: 1px;\n}\n\nh3 {\n    text-align: left;\n    margin: 15px 0 !important;\n    padding-right: 20px !important;\n    padding: 5px;\n    padding-left: 10px !important;\n    background: linear-gradient(\n        to right,\n        var(--SmartThemeBlurTintColor) 90%,\n        rgba(0, 0, 0, 0) 100%\n    );\n    letter-spacing: 1px;\n    border: 0;\n    border-left: 5px solid var(--customThemeColor);\n}\n\n/* COMMON HEADING 普通標題 */\n.title_restorable {\n    padding: 10px 5px;\n    background-image: none !important;\n    border-radius: 0px !important;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    display: flex;\n    align-items: center;\n    font-weight: bold;\n    border: none;\n}\n\n/* --- LISTS 列表樣式 --- */\n\nol, ul {\n    margin-block-start: 10px;\n    margin-block-end: 10px;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    padding-inline-start: 15px;\n    unicode-bidi: isolate;\n}\n\nol ::marker,\nol ol ::marker {\n    color: var(--customThemeColor);\n}\n\nli {\n    padding-left: 5px;\n    margin-bottom: 5px;\n}\n\n/* CODE TAG 程式標籤 */\ncode {\n    line-height: normal;\n    background: var(--SmartThemeBlurTintColor);\n    color: var(--customThemeColor);\n}\n\n#sheld code {\n    border: 0px;\n    border-radius: 4px;\n    letter-spacing: 1px;\n    line-height: normal;\n    background: var(--SmartThemeBlurTintColor);\n    color: var(--customThemeColor);\n    font-size: 85%;\n    padding: 0.2em 0.4em;\n    margin: 0 3px;\n}\n\n.popup:has(#qr--modalEditor) .popup-content > #qr--modalEditor code {\n    letter-spacing: normal;\n    font-size: 100%;\n}\n\n/* INPUT FIELDS 輸入框樣式 */\nselect:focus-visible,\ninput:focus-visible,\ntextarea:focus-visible {\n    outline: 0px solid var(--customThemeColor);\n}\n.select2-dropdown {\n    background-color: var(--SmartThemeBlurTintColor);\n    border: 1px solid var(--SmartThemeBorderColor) !important;\n    box-shadow: 0 0 3px var(--SmartThemeBlurTintColor);\n}\n\n/* TEXTAREA CARET 文字輸入框光標 */\ntextarea {\n    caret-color: var(--customThemeColor);\n    text-decoration-color: var(--customThemeColor);\n}\ntextarea ::-webkit-input-method-composition {\n    text-decoration-color: var(--customThemeColor);\n}\ntextarea.composing {\n    text-decoration-color: var(--customThemeColor);\n}\n\n/* CHAT BLOCK 聊天選擇框 */\n.select_chat_block {\n    transition: all 0.5s ease;\n}\n.select_chat_block[highlight] {\n    border: 1px solid var(--customThemeColor);\n    background-color: transparent;\n    transition: all 0.5s ease;\n}\n.select_chat_block[highlight]:hover {\n    border: 1px solid var(--customThemeColor);\n    transition: all 0.5s ease;\n}\n\n/* RADIO & CHECKBOX 單選與多選框 */\ninput[type=\"radio\"], \ninput[type=\"checkbox\"] {\n    appearance: none;\n    -webkit-appearance: none;\n    background-color: transparent;\n    border: 2px solid var(--SmartThemeBodyColor);\n    border-radius: 50%;\n    width: 15px;\n    height: 15px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n}\ninput[type=\"radio\"]:checked, \ninput[type=\"checkbox\"]:checked {\n    background-color: var(--customThemeColor);\n}\ninput[type='checkbox'] {\n    border: none !important;\n    background-color: var(--SmartThemeBodyColor);\n    box-shadow: none;\n    width: 16px;\n    border-radius: 100% !important;\n    height: 16px;\n    transition: all 0.3s ease;\n}\ninput[type=\"checkbox\"]:checked {\n    background-color: var(--customThemeColor) !important;\n}\ninput[type=\"checkbox\"]:checked::before {\n    color: var(--SmartThemeCheckboxTickColor);\n    pointer-events: none;\n}\n\n/* --- BASE RANGE SLIDER STYLES 基本滑桿樣式 --- */\n\ninput[type=\"range\"] {\n    background: var(--customThemeColor);\n    box-shadow: inset 0 0 2px var(--customThemeColor);\n}\n\n/* SLIDER THUMB CUSTOMIZATION 滑桿圓圈樣式設定 */\ninput[type=\"range\"]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background: var(--customThemeColor);\n    border-radius: 50%;\n    cursor: pointer;\n    border: 1px solid var(--customThemeColor);\n    box-shadow: none;\n}\n\n/* --- CUSTOM NEO RANGE SLIDER 自定義 NEO 滑桿樣式 --- */\n\n.neo-range-slider {\n    background: var(--customThemeColor) !important;\n    box-shadow: inset 0 0 2px var(--black50a) !important;\n}\n.neo-range-slider:hover, input[type=\"range\"]:hover {\n    filter: brightness(1);\n}\n\n/* --- POPUP 彈出視窗 --- */\n\n.popup {\n    max-height: calc(100dvh - 20%);\n    overflow: visible;\n    backface-visibility: hidden;\n    transform: translateZ(0);\n    -webkit-font-smoothing: subpixel-antialiased;\n    --popup-animation-speed: var(--animation-duration-slow);\n    box-shadow: 0px 0px 5px var(--SmartThemeShadowColor);\n}\n.popup.vertical_scrolling_dialogue_popup .popup-content {\n    overflow-y: visible !important;\n    height: fit-content !important;\n    max-height: none !important;\n}\n.popup-controls {\n    margin-top: 10px;\n    display: flex;\n    align-self: center;\n    gap: 5px;\n    flex-wrap: wrap;\n}\n.popup .popup-content {\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n}\n@media screen and (max-width: 1000px) {\n    .large_dialogue_popup {\n        top: 0px;\n        left: 0px;\n        box-sizing: border-box;\n        max-width: 100vw !important;\n        max-height: 100vh !important;\n        height: 100vh !important;\n        overflow: auto;\n        padding: 0px 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border-radius: 0;\n    }\n}\n.popup:not(:has(.img_enlarged_container)) .popup-body {\n    max-height: 95dvh;\n}\n\n/* --- TOGGLE 展開&收合 --- */\n\n/* TOGGLE HEADER 展開標題 */\n.inline-drawer-header {\n    margin: 5px 0;\n    padding: 10px;\n    border-radius: 10px;\n    font-weight: bold;\n    background: rgba(255, 255, 255, 0.05);\n    transition: all 0.5s ease;\n    border: 0px solid var(--SmartThemeBodyColor);\n}\n.inline-drawer-header:hover {\n    background: rgba(255, 255, 255, 0.1);\n    filter: brightness(1) !important;\n}\n\n/* TOGGLE CONTENT 展開內容 */\n.standoutHeader~.inline-drawer-content {\n    margin-top: 10px;\n}\n.inline-drawer-content {\n    padding: 5px 10px !important;\n}\n\n/* TOGGLE ICON 展開圖標 */\n.inline-drawer-icon {\n    font-size: calc(var(--mainFontSize)* 1.1);\n}\n\n/* --- MENU BUTTON 選單按鈕 --- */\n\n/* BASE BUTTON 基礎按鈕 */\n.menu_button {\n    white-space: nowrap;\n}\n.menu_button:hover,\n.menu_button.active {\n    transition: all 0.3s ease;\n}\n.popup-controls .menu_button {\n    width: auto;\n    padding: 8px 16px;\n    margin: 5px;\n    background-color: var(--SmartThemeBlurTintColor);\n    border: 1px solid var(--white30a);\n    border-radius: 8px;\n    color: var(--SmartThemeBodyColor);\n    font-weight: bold;\n    cursor: pointer;\n    font-size: 14px;\n    letter-spacing: 1px;\n    transition: all 0.5s ease;\n}\n.popup-controls .menu_button:hover {\n    border: 1px solid var(--customThemeColor);\n}\n\n/* CONFIRM BUTTON 確認按鈕 */\n.menu_button.popup-button-ok,\n#dialogue_popup_ok {\n    min-width: fit-content;\n    color: #fff;\n    letter-spacing: 2px;\n    background-color: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--white30a) !important;\n    padding: 5px 20px;\n    border-radius: 8px;\n    transition: all 0.5s ease;\n}\n.menu_button.popup-button-ok:hover,\n#dialogue_popup_ok:hover {\n    background-color: color-mix(in srgb, var(--customThemeColor) 50%, transparent 50%) !important;\n    border: 1px solid var(--white30a) !important;\n    transition: all 0.5s ease;\n}\n\n/* DEFAULT BUTTON 預設按鈕 */\n.menu_button.menu_button_default,\n#dialogue_popup_cancel {\n    min-width: fit-content;\n    color: var(--SmartThemeBodyColor);\n    letter-spacing: 2px;\n    border: 1px solid var(--SmartThemeBodyColor);\n    padding: 5px 20px;\n    border-radius: 8px;\n    transition: all 0.5s ease;\n}\n.menu_button.menu_button_default:hover,\n#dialogue_popup_cancel:hover {\n    background-color: var(--white30a);\n    color: var(--SmartThemeBodyColor);\n    border: 1px solid var(--white30a);\n}\n\n/* --- SCROLLBAR 捲軸樣式 --- */\n\n/* GENERIC SCROLLBAR 通用捲軸 */\n::-webkit-scrollbar {\n    width: 5px;\n    max-width: 5px;\n    height: 10px;\n}\n::-webkit-scrollbar-track {\n    background: transparent;\n}\n::-webkit-scrollbar-thumb {\n    background-color: rgba(255, 255, 255, 0.3);\n    border-radius: 5px;\n    transition: background-color 0.5s ease, opacity 0.5s ease;\n}\n::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(255, 255, 255, 0.8);\n}\n::-webkit-scrollbar-thumb:active {\n    background-color: rgba(255, 255, 255, 0.8);\n}\n\n/* FIREFOX SCROLLBAR Firefox 捲軸樣式 */\n* {\n    scrollbar-width: thin;\n    scrollbar-color: rgba(255, 255, 255, 0.5) transparent;\n}\n*::-webkit-scrollbar {\n    scrollbar-color: rgba(255, 255, 255, 0.5) transparent;\n}\n\n/* MOBILE HIDDEN SCROLLBAR 移動端隱藏捲軸 */\n@media screen and (max-width: 1000px) {\n    *::-webkit-scrollbar {\n        display: none;\n    }\n    \n    * {\n        scrollbar-width: none;\n        -ms-overflow-style: none;\n    }\n}\n\n/* --- LOADING ANIMATION 載入動畫 --- */\n\n.transparent_dialogue_popup {\n    box-shadow: none !important;\n}\n\n\n\n/* IMPORTANT SETTINGS 重要選單與內容設定\n- - - - - - - - - - - - - - - - - */\n\n/* --- BASIC MENU 基礎內容選單 --- */\n\n/* MENU ICON 選單圖示 */\n.drawer-icon {\n    position: relative;\n    object-fit: contain;\n    font-size: calc(var(--mainFontSize) * 1.45);\n    color: var(--Drawer-iconColor) !important;\n    z-index: 9000 !important;\n    display: inline-flex;\n    height: 100%;\n}\n@media screen and (max-width: 1000px) {\n    .drawer-icon {\n        font-size: calc(var(--mainFontSize) * 1.75);\n    }\n}\n\n/* MENU CONTAINER 選單容器 */\n.drawer {\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    flex-flow: row;\n    width: auto;\n    padding: 0 0.8%;\n    height: var(--topBarBlockSize);\n}\n\n/* MENU CONTENT 選單內容 */\n#left-nav-panel,\n#right-nav-panel,\n.drawer-content {\n    border-top: 2px solid var(--customThemeColor);\n    border-right: 0;\n    border-bottom: 0;\n    border-left: 0;\n    box-sizing: border-box;\n}\n\n.drawer-content {\n    background-color: var(--SmartThemeBlurTintColor);\n    padding: 1.2%;\n    overflow-y: scroll !important;\n    position: absolute;\n    top: calc(var(--topBarBlockSize));\n    border-radius: 0 !important;\n    box-shadow: none !important;\n    height: calc(100dvh - var(--bottomInputAreaHeight));\n}\n@media screen and (max-width: 1000px) {\n    .drawer-content {\n        padding: 5% !important;\n        min-height: calc(100dvh - var(--topBarBlockSize) + 5px) !important;\n    }\n}\n\n/* --- LEFT & RIGHT PANELS 左右選單 --- */\n\n/* PANEL WIDTH & HEIGHT 選單寬度與高度 */\n#right-nav-panel, .fillLeft {\n    width: calc((100dvw - var(--sheldWidth)) / 2);\n}\n#right-nav-panel {\n    background-color: var(--SmartThemeBlurTintColor);\n    padding: 1.2%;\n    overflow-y: scroll !important;\n    position: absolute;\n    top: calc(var(--topBarBlockSize));\n    border-radius: 0 !important;\n    box-shadow: none !important;\n}\n.fillRight, .fillLeft {\n    top: var(--topBarBlockSize) !important;\n    height: calc(100dvh - var(--topBarBlockSize));\n}\n\n/* SCROLLABLE INNER 滾動內層 */\n.fillLeft .scrollableInner {\n    height: fit-content !important;\n    padding: 0px !important;\n}\n\n/* --- MOBILE ADAPTATION 移動端適配 --- */\n\n@media screen and (max-width: 1000px) {\n    #right-nav-panel,\n    #left-nav-panel,\n    #floatingPrompt,\n    #cfgConfig,\n    #WorldInfo,\n    #logprobsViewer,\n    #movingDivs > div {\n        min-height: calc(100dvh - var(--topBarBlockSize) + 5px) !important;\n    }\n}\n\n/* --- TOP NAVIGATION 上方導航選單 --- */\n\n/* TOP BAR 上方導航條 */\n#top-bar {\n    height: var(--topBarBlockSize);\n    background-color: var(--customTopBarColor) !important;\n    width:  auto;\n    border-radius: 0px !important;\n    box-shadow: 0 2px 15px 0 var(--SmartThemeShadowColor);\n    backdrop-filter: blur(var(--SmartThemeBlurStrength));\n}\n\n/* SETTINGS HOLDER 設置區容器 */\n#top-settings-holder {\n    display: flex;\n    margin: 0 auto;\n    height: var(--topBarBlockSize);\n    justify-content: center;\n    z-index: 3005;\n    position: relative;\n    box-sizing: border-box;\n    transition: all 0.8s ease;\n    width:  auto;\n}\n\n\n\n/* CHAT AREA 聊天區域\n- - - - - - - - - - - - - - - - - */\n\n/* --- MAIN CHAT AREA 主要聊天區域 --- */\n\n#sheld {\n    padding: 2%;\n    padding-bottom: 10px;\n    padding-top: calc(var(--topBarBlockSize)) !important;\n    box-sizing: border-box;\n}\n\n#sheld:before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: var(--sheldBackgroundColor);\n    backdrop-filter: blur(calc(var(--sheldBlurStrength) * 1px));\n  \tz-index: -1;\n}\n\n@media screen and (max-width: 1000px) {\n    #sheld, #character_popup, .drawer-content {\n        width: 100% !important;\n        max-width: 100%;\n        margin: 0 auto;\n        left: 0 !important;\n        resize: none !important;\n        box-sizing: border-box;\n    }\n}\n\n/* MAIN CHAT 聊天主體 */\n#chat {\n    backdrop-filter: none !important;\n    background-color: transparent !important;\n    max-height: calc(100dvh - calc(var(--topBarBlockSize) + var(--bottomFormBlockSize)));\n    overflow-x: hidden;\n    overflow-y: scroll;\n    padding-bottom: 5px;\n    margin-top: var(--customCSS-top-padding);\n    display: flex;\n    bottom: 10px;\n    flex-direction: column;\n    flex-grow: 1;\n    flex-wrap: nowrap;\n    position: relative;\n    border-radius: 0px;\n    mask-image: var(--customCSS-chat-gradient-blur);\n    -webkit-mask-image: var(--customCSS-chat-gradient-blur);\n    mask-size: 100% 100%;\n    -webkit-mask-size: 100% 100%;\n    mask-repeat: no-repeat;\n    -webkit-mask-repeat: no-repeat;\n    border: 0 !important;\n}\n@media screen and (max-width: 1000px) {\n    #chat {\n        border: 0 !important;\n    }\n}\n\n/* CHAT MESSAGE 聊天訊息 */\n#chat .mes {\n    background-color: unset !important;\n}\n#chat .mes .mesAvatarWrapper {\n    padding-right: 2%;\n}\n#chat .mes .mes_block {\n    background-color: var(--SmartThemeBotMesBlurTintColor);\n    border: var(--SmartThemeBorderColor) solid 0px;\n    border-radius: 15px;\n    padding: 15px 25px;\n    box-shadow: 3px 3px 8px 0px rgba(0,0,0,3%) !important;\n}\nbody.big-avatars #chat .mes .mes_block {\n    border-radius: 10px;\n}\n.mes {\n    padding: 10px;\n    margin-bottom: 5px;\n}\n\n/* USER MESSAGE 使用者訊息 */\n#chat .mes[is_user=\"true\"] {\n    background-color: unset !important;\n}\n#chat .mes[is_user=\"true\"] .mes_block {\n    background-color: var(--SmartThemeUserMesBlurTintColor);\n}\n\n/* LAST MESSAGE 最後一則訊息 */\n.last_mes .mes_text {\n    padding-right: 0px;\n    padding-bottom: 10px;\n}\n\n/* LAST IN CONTEXT 最大上下文標記 */\n.lastInContext {\n    margin-top: 15px;\n    border-top: 3px dotted var(--customThemeColor) !important;\n    border-radius: 0;\n    opacity: 1 !important;\n}\n\n/* --- CHAT MESSAGE SWIPE 聊天訊息滑動 --- */\n\n/* Swipe Area Styles 滑動區域樣式 */\n#chat .last_mes[is_user=\"false\"] .mes_block {\n    padding-bottom: 25px;\n}\n.last_mes .swipe_right, \n.last_mes .swipe_left {\n    opacity: 0.6;\n    transform: scale(0.8);\n}\n.last_mes .swipe_left {\n    position: absolute;\n    right: 111px;\n    left: auto;\n    bottom: 20px !important;\n}\n.last_mes .swipeRightBlock {\n    position: absolute;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: flex-end;\n    right: 25px;\n    bottom: 20px !important;\n}\n\n/* Swipes Counter 滑動計數器 */\n.swipes-counter {\n    width: 60px;\n    text-align: center;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    opacity: 0.7 !important;\n    letter-spacing: 2px;\n}\n\n/* --- MESSAGE TEXT STYLE 聊天訊息文字樣式 --- */\n\n.mes_text p {\n    margin: 8px 0;\n}\n\n.mes_text a {\n    color: var(--customThemeColor);\n    transition: all 0.5s ease;\n    font-weight: bold;\n    padding-bottom: 1.5px;\n    border-bottom: 1px solid var(--customThemeColor);\n}\n\n.mes_text a:hover {\n    color: var(--customThemeColor2);\n    padding-bottom: 1.5px;\n    border-bottom: 1px solid var(--customThemeColor2);\n    filter: none;\n}\n\n.mes_text blockquote {\n    border-left: 3px solid var(--customThemeColor);\n    margin: 15px 0;\n    padding-left: 15px;\n    background-color: unset;\n}\n\n.mes_text ol, .mes_text ul {\n    margin-top: 0px;\n    margin-bottom: 8px;\n}\n\n.mes_text pre code {\n    border-radius: 10px;\n}\n\n.mes_text p strong em,\n.mes_text p strong {\n    color: var(--customThemeColor);\n}\n\n.mes_text q strong,\n.mes_text q strong em {\n    color: inherit;\n    font-weight: bold;\n}\n\n/* --- MESSAGE AVATAR 聊天訊息頭貼 --- */\n\n/* AVATAR BASE 基礎頭貼 */\n#chat .mes .avatar {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: calc(var(--custom-ChatAvatar) + 12px);\n    height: calc(var(--custom-ChatAvatar) + 12px);\n    border: 1px solid var(--SmartThemeBodyColor) !important;\n}\n#chat .mes .avatar img {\n    width: var(--custom-ChatAvatar, 40px);\n    height: var(--custom-ChatAvatar, 40px);\n    border: 0 !important;\n}\nbody.big-avatars #chat .mes .avatar,\nbody.big-avatars #chat .mes[is_user=\"true\"] .avatar {\n    width: calc(var(--custom-ChatAvatar) * var(--big-avatar-width-factor) + 10px);\n    height: calc(var(--custom-ChatAvatar) * var(--big-avatar-height-factor) + 10px);\n}\nbody.big-avatars #chat .mes .avatar img,\nbody.big-avatars #chat .mes[is_user=\"true\"] .avatar img {\n    width: calc(var(--custom-ChatAvatar) * var(--big-avatar-width-factor));\n    height: calc(var(--custom-ChatAvatar) * var(--big-avatar-height-factor));\n}\n\n/* USER AVATAR 使用者頭貼 */\n#chat .mes[is_user=\"true\"] .avatar {\n    border: 1px solid var(--customThemeColor) !important;\n}\n\n/* --- CHAT NAME & INFO 聊天名稱與資訊 --- */\n\n/* MOBILE OPTIMIZATION 移動端美化 */\n.name_text {\n    display: inline-block !important;\n}\n@media (max-width: 1000px) {\n    .name_text {\n        display: block !important;\n        width: 100% !important;\n        margin-bottom: 0px !important;\n    }\n}\n@media (max-width: 1000px) {\n    .ch_name .flex-container {\n        margin-bottom: 5px !important;\n    }\n}\n\n/* USER NAME 使用者名稱 */\n#chat .mes[is_user=\"true\"] .name_text {\n    color: var(--customThemeColor)!important;\n}\n\n/* TIMESTAMP 時間戳 */\n.timestamp {\n    font-size: calc(var(--mainFontSize) * 0.7);\n    font-weight: 400;\n    white-space: nowrap;\n}\n\n/* --- CHAT BAR MENU 聊天選單 --- */\n#logprobsViewer,\n#floatingPrompt,\n#cfgConfig {\n    top: var(--topBarBlockSize);\n    max-height: calc(100dvh - var(--topBarBlockSize)) !important;\n    height: calc(100dvh - var(--topBarBlockSize)) !important;\n  \tpadding-top: 30px;\n  \tpadding-left: 1.2%;\n  \tpadding-right: 1.2%;\n    border-radius: 0;\n    border: 0;\n    border-top: 2px solid var(--customThemeColor);\n    width: calc(((100dvw - var(--sheldWidth)) / 2)) !important;\n}\n\n#extensionsMenu, .options-content {\n    padding: 5px 8px;\n}\n.options-content a {\n    font-weight: 400;\n}\n.options-content hr {\n    margin: 5px 0;\n}\n\n/* --- CHAT INPUT 聊天訊息輸入 --- */\n\n/* INPUT FIELD 輸入欄位 */\n#send_form {\n    border-radius: 15px !important;\n    border: none !important;\n    transition: all 0.5s ease;\n    border: 2px solid var(--SmartThemeBodyColor) !important;\n    background-color: var(--SmartThemeBlurTintColor);\n    opacity: 0.6;\n    transition: all 0.5s ease;\n}\n#send_form:hover {\n    opacity: 0.8;\n}\n#send_form:focus-within {\n    border: 2px solid var(--customThemeColor) !important;\n    opacity: 1;\n}\n@media screen and (max-width: 1000px) {\n    #send_form.compact #leftSendForm,\n    #send_form.compact #rightSendForm {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-wrap: nowrap;\n        width: unset;\n    }\n}\n\n/* PLACEHOLDER PLACEHOLDER 說明文字 */\n#send_textarea::placeholder, \n.select2-search__field::placeholder {\n    font-size: 14px;\n}\n\n/* INPUT ICON 圖示 */\n#nonQRFormItems {\n    gap: 10px;\n    font-size: calc(var(--mainFontSize) * 0.9);\n    padding: 5px 10px;\n    transition: all 0.8s ease;\n}\n#nonQRFormItems #options_button {\n    width: calc(var(--mainFontSize) * 0.9) !important;\n    height: calc(var(--mainFontSize) * 0.9) !important;\n    font-size: calc(var(--mainFontSize) * 0.9);\n}\n@media screen and (max-width: 1000px) {\n    #rightSendForm > div,\n    #leftSendForm > div,\n    #nonQRFormItems #options_button {\n        font-size: calc(var(--mainFontSize) * 1.2) !important;\n    }\n}\n\n/* INPUT LEFT 左側選項 */\n#leftSendForm {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n#leftSendForm > * {\n    min-width: calc(var(--mainFontSize) * 0.9);\n    min-height: calc(var(--mainFontSize) * 0.9) !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n/* --- MESSAGE SCROLLING 美化滾動訊息 --- */\n\n/* SCROLL BUTTON TEXT 滾動按鈕文字 */\n.fa-chevron-left:before {\n    content: \"‹\";\n}\n.fa-chevron-right:before {\n    content: \"›\";\n}\n\n/* LAYOUT ENHANCEMENTS 排版美化 */\n.swipe_right,\n.swipe_left {\n    opacity: 0.5;\n    font-size: 26px;\n    transition: all 0.5s ease;\n    gap: 5px;\n}\n.swipe_right:hover,\n.swipe_left:hover {\n    opacity: 0.8;\n    color: var(--customThemeColor);\n}\n\n\n\n/* DOCUMENTSTYLE SPECIFIC STYLES 聊天文件樣式\n- - - - - - - - - - - - - - - - - - */\n\nbody.documentstyle #chat .mes {\n    margin-bottom: 5px;\n    padding: 10px 15px !important;\n    margin-right: 0 !important;\n}\nbody.documentstyle #chat .mes .mes_block {\n    margin-right: 0 !important;\n}\n\n\n\n/* BUBBLECHAT SPECIFIC STYLES 聊天氣泡樣式\n- - - - - - - - - - - - - - - - - */\n\n/* --- AVATAR WRAPPER 頭像包裝樣式 --- */\n\nbody.bubblechat #chat .mes .mesAvatarWrapper {\n    padding-right: 10px;\n}\n\n/* --- MESSAGE BLOCK 聊天基礎樣式 --- */\n\nbody.bubblechat .mes {\n  \tborder: none !important;\n    margin-bottom: 0;\n}\nbody.bubblechat .mes_block {\n    margin-top: 20px;\n    padding-top: 0;\n    padding-left: 0;\n    width: auto;\n    max-width: 80%;\n    display: inline-block;\n    word-wrap: break-word;\n}\nbody.bubblechat #chat .mes .mes_block {\n    border-radius: 0 25px 25px 50px;\n    overflow: hidden;\n}\n\n/* --- USER MESSAGE 使用者訊息樣式 --- */\n\nbody.bubblechat #chat .mes[is_user=\"true\"] {\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: flex-end;\n}\nbody.bubblechat #chat .mes[is_user=\"true\"] .flex-container {\n    display: flex;\n    gap: 5px;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    width: 100%;\n}\nbody.bubblechat #chat .mes[is_user=\"true\"] .mes_block {\n    position: relative;\n    margin-left: auto;\n    margin-right: 0px;\n    text-align: left;\n    border-radius: 25px 0 50px 25px;\n}\nbody.bubblechat #chat .mes[is_user=\"true\"] .mesAvatarWrapper {\n    padding-right: 0;\n    padding-left: 10px;\n}\nbody.bubblechat .mes[is_user=\"true\"] .mes_block {\n    margin-right: auto;\n    margin-left: 10px;\n}\nbody.bubblechat #chat .mes[is_user=\"true\"] .flex-container.alignItemsBaseline > .name_text {\n    order: 2;\n}\nbody.bubblechat #chat .mes[is_user=\"true\"] .flex-container.alignItemsBaseline > .timestamp {\n    order: 1;\n}\n\n/* --- MOBILE ADAPTATION 移動端適配 --- */\n\n@media screen and (max-width: 1000px) {\n    body.bubblechat .mes {\n        margin-bottom: 5px;\n    }\n\n    body.bubblechat #chat .mes[is_user=\"true\"] .name_text {\n        text-align: right !important;\n    }\n\n    body.bubblechat #chat .mes[is_user=\"true\"] .flex-container.alignItemsBaseline > .name_text,\n    body.bubblechat #chat .mes[is_user=\"true\"] .flex-container.alignItemsBaseline > .timestamp {\n        order: 0;\n    }\n}\n\n\n\n/* CHARACTER EXPRESSIONS 角色表情圖示\n- - - - - - - - - - - - - - - - - */\n\n/* --- EXPRESSION HOLDER 表情容器 --- */\n\n.expression-holder {\n    position: absolute;\n    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 70%, rgba(0, 0, 0, 0) 100%);\n    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 70%, rgba(0, 0, 0, 0) 100%);\n    mask-size: 100% 100%;\n    -webkit-mask-size: 100% 100%;\n    mask-repeat: no-repeat;\n    -webkit-mask-repeat: no-repeat;\n}\n.expression-holder .drag-grabber {\n    top: 50px;\n}\n.zoomed_avatar {\n    backdrop-filter: none !important;\n    background-color: transparent !important;\n}\n\n/* --- VISUAL NOVEL MODE 視覺小說模式 --- */\n\nbody.waifuMode #sheld {\n    height: var(--VN-sheld-height);\n    top: calc(100% - var(--VN-sheld-height));\n    border-radius: 20px 20px 0 0;\n    padding-top: 0 !important;\n    bottom: 0;\n}\n\nbody.waifuMode #expression-holder .zoomed_avatar,\nbody.waifuMode #expression-holder .panelControlBar {\n    padding-top: 50px !important;\n}\nbody.waifuMode .zoomed_avatar_container {\n    bottom: 0px !important;\n}\n\n\n\n/* AI CONFIG & CONNECTION SETTINGS\n   配置與 API 連線設定\n- - - - - - - - - - - - - - - - - */\n\n/* --- TOP NOTIFICATION 頂部提示 --- */\n\n.editable-slider-notification {\n    position: relative;\n    width: 100%;\n    padding: 10px 0;\n    top: 0;\n    text-align: center;\n    color: var(--customThemeColor);\n    font-style: italic;\n    letter-spacing: 1px;\n}\n\n/* HEADING 標題 */\n.fillLeft .title_restorable {\n    margin: 12px 0 10px 0;\n    padding: 5px;\n    padding-left: 10px !important;\n    background-color: var(--SmartThemeBlurTintColor);\n    background-image: none !important;\n    border-radius: 0px !important;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    align-items: center;\n    border: 0;\n    border-bottom: 2px solid var(--customThemeColor);\n}\n\n/* --- PROMPT MANAGER 提示詞排序欄位 --- */\n\n#completion_prompt_manager .completion_prompt_manager_footer {\n    padding: 0;\n}\n#completion_prompt_manager #completion_prompt_manager_list {\n    padding: 10px 15px 15px 15px;\n    margin: 5px 0;\n}\n#completion_prompt_manager #completion_prompt_manager_list .completion_prompt_manager_prompt_name .prompt-manager-inspect-action {\n    color: var(--SmartThemeBodyColor);\n}\n#completion_prompt_manager #completion_prompt_manager_list .completion_prompt_manager_prompt_name .prompt-manager-inspect-action:hover {\n    filter: brightness(1.2);\n    text-decoration: none;\n}\n\n#prompt-manager-reset-character, #completion_prompt_manager_popup .completion_prompt_manager_popup_entry_form_footer #completion_prompt_manager_popup_entry_form_reset {\n    color: var(--customThemeColor);\n}\n\n\n\n/* ADVANCED FORMATTING 進階格式化\n- - - - - - - - - - - - - - - - - */\n\n#AdvancedFormatting .standoutHeader {\n    margin: 12px 0 10px 0;\n    padding: 5px;\n    padding-left: 10px !important;\n    background-color: var(--SmartThemeBlurTintColor);\n    background-image: none !important;\n    border-radius: 0px !important;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    display: flex;\n    align-items: center;\n    border: 0;\n    border-bottom: 2px solid var(--customThemeColor);\n}\n\n#AdvancedFormatting .spaceEvenly {\n    gap: 15px !important;\n}\n\n\n/* WORLDS/LOREBOOKS 世界資訊/知識書\n- - - - - - - - - - - - - - - - - */\n\n/* --- BASIC 基礎 --- */\n\n/* MENU RESET 格式重置 */\n#world_popup {\n    all: unset;\n    background: transparent !important;\n}\n@media screen and (max-width: 1000px) {\n    #world_popup {\n        overflow-y: auto;\n        background: transparent !important;\n        min-width: 700px;\n        padding: 0 15px;\n    }\n}\n\n/* --- WORLD INFO ENTRIES 世界資訊條目 --- */\n\n#WorldInfo .standoutHeader {\n    padding: 10px;\n}\n\n/* WORLD HEADER 世界條目標題 */\n.world_entry .inline-drawer-header {\n    cursor: initial;\n    margin: 0;\n    padding: 5px 10px;\n    background: rgba(255, 255, 255, 0);\n    border-radius: 0px;\n    border: 0px;\n    font-weight: bold;\n}\n.world_entry .inline-drawer-header:hover {\n    background: none;\n}\n\n/* WORLD CONTENT 世界條目內容 */\n.wi-card-entry {\n    border: 1px solid transparent;\n    border-radius: 10px;\n    padding: 5px;\n    margin: 10px 0;\n    background: rgba(255, 255, 255, 0.05);\n    transition: all 0.5s ease;\n}\n.wi-card-entry:hover {\n    filter: brightness(1.25);\n}\n\n/* --- OPTIONS 選項 --- */\n\n.select2-container .select2-selection--multiple .select2-selection__choice, .select2-container .select2-selection--single .select2-selection__choice {\n    background-color: var(--SmartThemeBlurTintColor);\n}\n\n/* OPTIONS BUTTON 選項按鈕 */\nspan.select2.select2-container .select2-selection__choice__remove {\n    color: var(--SmartThemeBodyColor);\n    min-height: 20px;\n    background-color: var(--customThemeColor);\n    white-space: break-spaces;\n    word-break: break-all;\n    transition: all 0.5s ease;\n}\nspan.select2.select2-container .select2-selection__choice__remove:hover {\n    color: var(--customThemeColor);\n    background-color: var(--SmartThemeBlurTintColor);\n}\n\n/* OPTIONS TITLE 選項標題 */\n.select2_choice_clickable_buttonstyle+span.select2-container .select2-selection__choice__display {\n    color: var(--SmartThemeBodyColor);\n    background-color: transparent;\n    white-space: break-spaces;\n    word-break: break-all;\n    transition: all 0.5s ease;\n}\n.select2_choice_clickable_buttonstyle+span.select2-container .select2-selection__choice__display:hover {\n    background-color: transparent;\n    color: var(--customThemeColor);\n}\n.select2-container .select2-selection--multiple, .select2-container .select2-selection--single {\n    border-radius: 10px;\n    margin: 5px 0px;\n}\n\n\n\n/* USER SETTINGS 使用者設定\n- - - - - - - - - - - - - - - - - */\n\n/* --- ITEM TITLES 項目標題 --- */\n\n#user-settings-block h4 {\n    margin: 12px 0 10px 0;\n    padding: 5px;\n    padding-left: 10px !important;\n    background-color: var(--SmartThemeBlurTintColor);\n    background-image: none !important;\n    border-radius: 0px !important;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    display: flex;\n    align-items: center;\n    border: 0;\n    border-bottom: 2px solid var(--customThemeColor);\n}\n\n/* --- SPACING 欄位間距 --- */\n\n#user-settings-block-content.flex-container.spaceEvenly {\n    gap: 15px !important;\n}\n\n/* --- EXPANDABLE OPTIONS 展開 & 收合選項 --- */\n\n.userSettingsInnerExpandable {\n    border: 0px solid var(--SmartThemeBodyColor);\n    background: rgba(255, 255, 255, 0.05);\n    padding: 5px 10px !important;\n    margin-top: 8px;\n    transition: all 0.5s ease;\n}\n.userSettingsInnerExpandable:hover {\n    background: rgba(255, 255, 255, 0.1);\n    filter: brightness(1.2) !important;\n}\n\n#customCSS {\n  \tmax-height: 25dvh;\n}\n\n\n\n/* BACKGROUND IMAGE 背景圖片\n- - - - - - - - - - - - - - - - - */\n\n/* --- MENU ADJUSTMENTS 選單調整 --- */\n\n.bg_list {\n    display: flex;\n    flex-wrap: wrap;\n    max-width: 100vw;\n    justify-content: center;\n    margin: 0 auto;\n    padding: 0;\n    box-sizing: border-box;\n    overflow: hidden;\n    gap: 5px;\n}\n\n/* --- EXAMPLE STYLES 預覽樣式 --- */\n\n.bg_example {\n    margin: 10px 5px;\n    background-repeat: no-repeat;\n    background-size: 102%;\n    background-position: center;\n    border-radius: 15px;\n    transition: all 0.5s ease;\n    box-sizing: border-box;\n}\n.bg_example:hover {\n    box-shadow: 0 0 5px var(--SmartThemeBodyColor);\n}\n.bg_example.locked {\n    outline: 1.5px solid var(--customThemeColor);\n}\n@media screen and (max-width: 1000px) {\n    .bg_example {\n        flex: 1 1 calc(45%);\n        max-width: calc(45%);\n    }\n}\n\n/* --- EXAMPLE TITLES 預覽標題 --- */\n\n.BGSampleTitle {\n    font-weight: bold;\n    background-color: transparent;\n    padding: 5px 10px;\n    font-style: italic;\n    box-sizing: border-box;\n    color: #FFF;\n    text-shadow: 0 1px 2px var(--SmartThemeBlurTintColor);\n}\n\n\n\n/* EXTENSIONS 擴充功能\n- - - - - - - - - - - - - - - - - */\n\n/* --- EXTENSIONS MENU 擴充功能選單 --- */\n\n#extensionsMenu>.extension_container>div,\n#extensionsMenu>div:not(.extension_container),\n.options-content a,\n.list-group-item {\n    transition: all 0.5s ease;\n}\n#extensionsMenu>.extension_container>div:hover,\n#extensionsMenu>div:not(.extension_container):hover,\n.options-content a:hover,\n.list-group-item:hover {\n    color: var(--customThemeColor);\n    filter: none;\n}\n#extensions_settings .inline-drawer-toggle.inline-drawer-header,\n#extensions_settings2 .inline-drawer-toggle.inline-drawer-header {\n    padding: 5px 10px !important;\n    border-radius: 10px;\n    font-weight: bold;\n    background: rgba(255, 255, 255, 0.05);\n    transition: all 0.5s ease;\n}\n#extensions_settings .inline-drawer-toggle.inline-drawer-header:hover,\n#extensions_settings2 .inline-drawer-toggle.inline-drawer-header:hover {\n    background: rgba(255, 255, 255, 0.1) !important;\n    filter: brightness(1.2) !important;\n}\n#extensions_settings .note-link-span,\n#extensions_settings2 .note-link-span {\n    color: var(--customThemeColor);\n    box-shadow: 0 0 0px black;\n}\n#extensionSideBar .panelControlBar {\n    padding-top: 0px !important;\n}\n#extensionSideBar #extensionSideBarContainer .sideBarItem {\n    transition: all 0.5s ease !important;\n    gap: 5px;\n}\n#extensionSideBar #extensionSideBarContainer .sideBarItem .chatStats .counterBlock::after {\n    color: var(--white30a);\n}\n\n/* --- EXTENSION: CHAT INFO 擴充：聊天室資訊 --- */\n\n/* CHAT INFO BAR 聊天資訊條 */\n#extensionTopBar {\n    top: 50px;\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: auto;\n    padding-top: 0;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    flex-shrink: 0;\n    align-content: center;\n    align-items: center;\n    justify-content: center;\n    border-radius: 10px !important;\n    background-color: var(--SmartThemeBlurTintColor);\n    backdrop-filter: blur(var(--SmartThemeBlurStrength));\n    height: var(--bottomFormBlockSize);\n    gap: 10px;\n    font-size: calc(var(--mainFontSize) * 0.9);\n    position: fixed;\n    left: 50%;\n    transform: translateX(-50%);\n    transition: all 0.8s ease;\n    z-index: 3005;\n    opacity: 0.7;\n    width: calc(var(--sheldWidth) - 10%) !important;\n}\n#extensionTopBar:hover {\n    opacity: 0.9;\n    box-shadow: 0 0px 3px var(--SmartThemeShadowColor);\n}\n@media (max-width: 1000px) {\n    #extensionTopBar {\n        opacity: 0.8;\n        width: calc(100% - 4%) !important;\n    }\n}\n\n#extensionSideBar {\n    top: var(--topBarBlockSize) !important;\n    max-height: calc(100dvh - var(--topBarBlockSize)) !important;\n    min-height: calc(100dvh - var(--topBarBlockSize)) !important;\n    border-radius: 0 !important;\n}\n#extensionSideBar.visible {\n    display: flex;\n    padding: 15px;\n    border: 0;\n    border-top: 2px solid var(--customThemeColor);\n}\n#extensionSideBar #extensionSideBarContainer {\n    padding: 10px;\n}\n\n#select_chat_popup {\n    padding: 10px;\n}\n.select_chat_block {\n    margin: 5px 0;\n    padding: 10px;\n}\n\n/* CONNECTION INFO 連線資訊 */\n#extensionConnectionProfiles {\n    width: calc(100% - 20%) !important;\n    margin-top: 4px !important;\n    margin-bottom: 10px !important;\n    transform: translateX(-50%);\n    left: 50% !important;\n    right: auto !important;\n    position: relative !important;\n    opacity: 0.6;\n    transition: all 0.8s ease;\n}\n#extensionConnectionProfiles:hover {\n    opacity: 0.8;\n}\nbody.waifuMode #extensionConnectionProfiles {\n    border-radius: 10px !important;\n    margin-top: 10px !important;\n    margin-bottom: 0px !important;\n}\n\n/* CHAT POPUP STYLING 聊天彈窗樣式 */\n#select_chat_popup {\n    box-shadow: 0px 0px 20px var(--SmartThemeBorderColor);\n}\n@media screen and (max-width: 1000px) {\n    #select_chat_popup {\n        align-items: start;\n        height: 90dvh;\n        max-height: 90dvh;\n        align-content: start;\n        max-width: unset;\n        overflow-y: auto;\n    }\n}\n\n/* --- EXTENSION: DIALOGUE COLORIZER 擴充：對話顏色 --- */\n\n.dc-color-picker-wrapper {\n    border: 0px !important;\n}\n.dc-color-settings-group {\n    border: 0px solid var(--SmartThemeBodyColor) !important;\n}\n\n/* --- EXTENSION: IMAGE CAPTIONING 擴充：圖片解析 --- */\n\n.mes_img_controls .right_menu_button {\n    color: var(--customThemeColor);\n  \ttext-shadow: 0 0 5px #FFF !important;\n  \tfilter: none;\n}\n.mes_img_controls .right_menu_button:hover {\n  \tfilter: none;\n  \tcolor: #FFF;\n  \ttext-shadow: 0 0 5px var(--customThemeColor) !important;\n}\n\ntable.img_metadata {\n    text-align: left;\n    max-height: 30dvh !important;\n    border-radius: 10px;\n    margin-top: 30px !important;\n    padding: 10px 20px;\n}\n.img_enlarged_container pre {\n    max-height: 30dvh;\n}\n.img_enlarged_container pre code {\n    text-align: left;\n    border-radius: 10px;\n}\n\n/* --- EXTENSION: QUICK PERSONA 擴充：使用者快速切換 --- */\n\n#quickPersonaMenu .list-group {\n    backdrop-filter: none;\n    border-radius: 0;\n    box-shadow: none;\n    transition: all 0.5s ease;\n    background-color: unset !important;\n  \topacity: 1;\n}\n\n#quickPersonaMenu {\n    backdrop-filter: none !important;\n    border-radius: 10px !important;\n}\n#quickPersonaMenu ul {\n    gap: 8px;\n}\n#quickPersonaMenu li,\n.quickPersonaMenuImg {\n  \topacity: 1;\n    transition: all 0.5s ease;\n}\n.quickPersonaMenuImg:hover  {\n    box-shadow: 0 0 5px var(--customThemeColor);\n    filter: brightness(1.1);\n}\n.quickPersonaMenuImg.default {\n    outline-color: var(--customThemeColor) !important;\n}\n\n/* --- EXTENSION: CODEX 擴充：法典 --- */\n\nbody .stcdx--root {\n    top: var(--topBarBlockSize)!important;\n    padding: 1%;\n    border-radius: 0px !important;\n}\nbody .stcdx--root > .stcdx--content.stcdx--entry section {\n    padding: 10px;\n}\n\nbody .stcdx--root > .stcdx--content, \nbody .stcdx--root > .stcdx--editor {\n    text-align: left !important;\n}\n\n/* --- EXTENSION: Quick Replies 擴充：快速回覆 --- */\n\nqr--bar > .qr--buttons.qr--color, #qr--popout > .qr--body > .qr--buttons.qr--color {\n    background-color: unset;\n    gap: 3px;\n}\n\n.ctx-menu {\n  \tposition: absolute;\n    overflow-y: auto !important;\n    overflow-x: hidden !important;\n    max-height: 40dvh;\n    min-width: 200px;\n    overflow: hidden auto;\n    padding: 5px 8px;\n}\n.ctx-blocker li {\n    margin-bottom: 0px !important;\n  \tfont-size: var(--mainFontSize);\n}\n#qr--bar > .qr--buttons .qr--button {\n    font-size: calc(var(--mainFontSize)* 0.9);\n}\n#qr--bar > .qr--buttons {\n    padding: 5px !important;\n}\n\n@media screen and (max-width: 1000px) {\n    .list-group .list-group-item.ctx-item {\n        padding: 5px 8px !important;\n    }\n\n    #qr--bar > .qr--buttons, \n    #qr--popout > .qr--body > .qr--buttons {\n        --qr--color: transparent;\n        margin: 0;\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n        gap: 5px;\n        width: 100%;\n        flex-direction: row;\n        max-height: 40px;\n        padding: 5px !important;\n    }\n\n    #send_form:hover #qr--bar,\n    #send_form:focus #qr--bar,\n    #send_form:active #qr--bar {\n        display: visibility;\n        height: 40px;\n        opacity: 1;\n    }\n\n    #qr--bar{\n        display: none;\n        height: 0.1px;\n        opacity: 0;\n        transition: all 0.8s ease-in-out !important;\n    }\n}\n\n/* --- EXTENSION: Prome Visual Novel Extension 擴充 --- */\n\n.mes_text.promeChatHistoryItemSenderText {\n    text-align: left;\n}\n\n/* --- EXTENSION: More Flexible Continues 擴充：彈性回覆 --- */\n\n.mfc--ctx-blocker:has(.mfc--tree) > .mfc--tree {\n    min-width: calc(var(--sheldWidth) - 15%) !important;\n    width: calc(var(--sheldWidth) - 15%) !important;\n    max-width: calc(var(--sheldWidth) - 15%) !important;\n    max-height: calc(80vh - 1em - var(--triggerTop));\n    background-color: var(--SmartThemeBlurTintColor);\n    white-space: normal;\n    word-wrap: break-word;\n    overflow: auto;\n    border-radius: 15px;\n    padding: 10px 15px;\n    backdrop-filter: blur(calc(var(--SmartThemeBlurStrength)));\n    transition: all 0.5s ease;\n}\n@media screen and (max-width: 1000px) {\n    .mfc--ctx-blocker:has(.mfc--tree) > .mfc--tree {\n        min-width: 60dvw !important;\n        max-width: 60dvw !important;\n    }\n}\n\n.mfc--ctx-blocker:has(.mfc--tree) > .mfc--tree.mfc--flipV {\n    top: unset;\n    bottom: calc(100vh - var(--triggerTop));\n    max-height: 75dvh !important;\n}\n\n.mfc--ctx-blocker:has(.mfc--tree) .mfc--treeText {\n    white-space: pre-line;\n    padding: 10px 15px;\n}\n.mfc--ctx-blocker:has(.mfc--tree) .mfc--treeText:hover {\n    text-decoration: none !important;\n}\n\n.mfc--ctx-blocker:has(.mfc--tree) .mfc--active > .mfc--tree {\n    border: 1.5px solid var(--customThemeColor);\n}\n.mfc--ctx-blocker:has(.mfc--tree) .mfc--active > .mfc--tree > .mfc--treeText {\n    font-weight: bold;\n}\n\n.lacommon--quickActions[data-lacommon--anchor=\"bottom\"] {\n  position: absolute;\n  bottom: 20px !important;\n  left: calc(var(--custom-ChatAvatar) + 2% + 50px) !important;\n  display: flex;\n  align-items: center;\n  gap: 0.5em;\n}\n\n.mfc--root {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.mfc--action {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 15px;\n  height: 23px;\n  line-height: 23px;\n}\n\n#chat .mes:has(.lacommon--quickActions[data-lacommon--anchor=\"bottom\"]) .mes_block {\n    padding-bottom: 25px !important;\n}\n\n.mfc--root .mfc--undo,\n.mfc--root .mfc--regen,\n.mfc--root .mfc--swipes,\n.mfc--root .mfc--cont,\n.mfc--root .mfc--fav {\n    font-family: \"Font Awesome 6 Free\";\n    font-weight: 900;\n    font-size: 1em;\n    color: inherit;\n    margin-right: 10px;\n    opacity: 0.5;\n    drop-shadow(0px 0px 2px var(--SmartThemeBlurTintColor));\n    transition: all 0.5s ease;\n}\n\n.mfc--root .mfc--undo:hover,\n.mfc--root .mfc--regen:hover,\n.mfc--root .mfc--swipes:hover,\n.mfc--root .mfc--cont:hover,\n.mfc--root .mfc--fav:hover {\n    opacity: 1 !important;\n}\n\n.mfc--root .mfc--undo::before {\n    content: \"\\f3e5\";\n}\n\n.mfc--root .mfc--regen::before {\n    content: \"\\f021\";\n}\n\n.mfc--root .mfc--swipes::before {\n    content: \"\\f4ad\";\n}\n\n.mfc--root .mfc--cont::before {\n    content: \"\\f178\";\n}\n\n.mfc--root .mfc--fav::before {\n    content: \"\\f004\";\n}\n\n.mfc--root .mfc--action {\n    visibility: hidden;\n    position: relative;\n}\n.mfc--root .mfc--action::before {\n    visibility: visible;\n    position: absolute;\n    left: 0;\n}\n\n/* --- EXTENSION: Custom Theme Style Inputs 擴充：自定義樣式輸入 --- */\n\n.ctsi-flex-container {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n}\n\n.ctsi-button-container {\n    padding: 5px;\n}\n\n\n\n/* PERSONA MANAGEMENT 使用者人物管理\n- - - - - - - - - - - - - - - - - */\n\n#user_avatar_block .avatar-container {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 10px;\n    margin: 5px 0;\n    padding: 10px;\n    border-radius: 12px;\n    cursor: pointer;\n    width: 100%;\n    background-color: rgba(255, 255, 255, 0.05) !important;\n    transition: all 0.5s ease;\n}\n#user_avatar_block .avatar-container:hover {\n    background-color: rgba(255, 255, 255, 0.1) !important;\n    filter: brightness(1.1) !important;\n}\n#user_avatar_block .avatar-container.selected {\n    border: 1.5px solid var(--customThemeColor);\n    background-color: rgba(255, 255, 255, 0) !important;\n}\n#user_avatar_block .avatar-container.default_persona .avatar {\n    outline: 0 solid var(--customThemeColor);\n}\n\n.avatar-container.default_persona .set_default_persona {\n    color: var(--customThemeColor);\n}\n\n\n\n/*  CHARACTER/GROUP MANAGEMENT 角色/群組管理\n- - - - - - - - - - - - - - - - - */\n\n/* --- CHARACTER/GROUP NAMES 名稱 --- */\n\n#rm_button_selected_ch {\n    opacity: 1;\n    margin: 12px 0 10px 0;\n    padding: 5px;\n    padding-left: 10px !important;\n    background: linear-gradient(\n        to right,\n        var(--SmartThemeBlurTintColor) 65%,\n        rgba(0, 0, 0, 0) 100%\n    );\n    border-radius: 0px !important;\n    letter-spacing: 1px;\n    display: flex;\n    align-items: center;\n    border: 0;\n    border-left: 5px solid var(--customThemeColor);\n}\n\n/* --- TRANSITION EFFECTS 過渡動畫 --- */\n\n.bogus_folder_select, \n.character_select, \n.avatar-container,\n.group_select {\n    transition: all 0.3s ease;\n}\n.bogus_folder_select:hover,\n.character_select:hover,\n.avatar-container:hover,\n.group_select:hover {\n    background-color: rgba(170, 170, 170, 0.15);\n    filter: brightness(1.25);\n}\nbody.charListGrid #rm_print_characters_block {\n    transition: all 0.5s ease;\n}\nbody.charListGrid #rm_print_characters_block .bogus_folder_select:hover, \nbody.charListGrid #rm_print_characters_block .character_select:hover, \nbody.charListGrid #rm_print_characters_block .group_select:hover, \n#user_avatar_block.gridView .avatar-container:hover {\n    transition: all 0.5s ease;\n}\n\n/* --- CHARACTER AVATAR 頭貼 --- */\n\n#avatar_controls {\n    height: auto;\n    width: 0 !important;\n}\n.avatar img {\n    border: 1.5px solid var(--SmartThemeBodyColor) !important;\n}\n.add_avatar {\n    filter: drop-shadow(0px 0px 2px);\n}\n.add_avatar:hover {\n    filter: drop-shadow(0px 0px 5px var(--SmartThemeBodyColor));\n}\n\n/* --- MULTI-CHARACTER SELECTION 多角色選擇區 --- */\n\n#rm_print_characters_block .flex-container {\n    gap: 10px;\n}\nbody.charListGrid #rm_print_characters_block .flex-container {\n    gap: 5px;\n    padding: 5px;\n}\nbody.charListGrid #rm_print_characters_block .avatar img,\nbody.charListGrid #rm_print_characters_block .avatar {\n    width: calc(var(--custom-avatar) * var(--big-avatar-width-factor) * 1.8);\n    height: calc(var(--custom-avatar) * var(--big-avatar-height-factor) * 1.8);\n    border-radius: 10px !important;\n}\nbody.charListGrid #rm_print_characters_block > * {\n    flex: 0 1 calc(50% - 10px);\n    box-sizing: border-box;\n}\n@media screen and (max-width: 1000px) {\n    body.charListGrid #rm_print_characters_block {\n        height: auto !important;\n        overflow: visible;\n        transition: all 0.5s ease;\n    }\n}\n\n#rm_print_characters_block.group_overlay_mode_select .character_select {\n    background-color: unset;\n    transition: all 0.5s ease;\n}\n#rm_print_characters_block.group_overlay_mode_select .character_select.character_selected {\n    background-color: rgba(170, 170, 170, 0.15);\n}\n\n/* --- CHARACTER PREVIEW 個別角色編輯區 --- */\n\n#character_popup {\n    padding: 20px;\n    box-shadow: none;\n    min-height: calc(100dvh - var(--topBarBlockSize));\n    border-radius: 0;\n}\n\n#rm_ch_create_block .avatar img,\n#rm_ch_create_block .avatar {\n    width: calc(var(--custom-avatar) * var(--big-avatar-width-factor) * 2);\n    height: calc(var(--custom-avatar) * var(--big-avatar-height-factor) * 2);\n    border-radius: 10px !important;\n    margin-bottom: 15px;\n    margin-top: 11px;\n}\n\n#export_format_popup {\n    padding: 5px;\n}\n\n#firstMessageWrapper .menu_button {\n    white-space: nowrap;\n    margin-left: 8px;\n    min-height: 28px;\n}\n\n/* --- QUICK CHARACTER SELECTION 快速角色選擇 --- */\n\n/* BASE & FUNCTIONALITY 基礎 & 功能完善 */\n.fav_on {\n    color: var(--customThemeColor) !important;\n}\n\n.hotswap.avatars_inline *:focus {\n    outline: none;\n}\n.hotswap.avatars_inline {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    overflow-y: hidden;\n    padding-right: 30px;\n    scroll-behavior: smooth;\n    max-height: calc(var(--avatar-base-height) + 2 * var(--avatar-base-border-radius));\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n}\n.hotswap.avatars_inline::-webkit-scrollbar {\n    display: none;\n}\n\n/* FAV NAME EFFECTS 最愛角色名稱特效 */\n.character_select.is_fav .avatar, \n.group_select.is_fav .avatar, \n.group_member.is_fav .avatar, \n.avatar.is_fav {\n    outline: none;\n    filter: drop-shadow(0px 0px 2px var(--customThemeColor));\n}\n.avatars_inline_small .avatar.is_fav {\n    filter: drop-shadow(0px 0px 0px var(--SmartThemeBodyColor)) !important;\n}\n.character_select.is_fav .ch_name, \n.group_select.is_fav .ch_name, \n.group_member.is_fav .ch_name {\n    color: var(--customThemeColor);\n}\n\n/* SYMBOL & PULSE EFFECTS 特殊符號與閃爍特效 */\n.character_select.is_fav .ch_name::before, \n.group_select.is_fav .ch_name::before, \n.group_member.is_fav .ch_name::before {\n    content: \"♥︎\";\n    color: var(--customThemeColor);\n    margin-right: 5px;\n    animation: pulse 1s infinite;\n}\n@keyframes pulse {\n    0%, 100% {\n        transform: scale(0.8);\n        opacity: 1;\n    }\n    50% {\n        transform: scale(0.5);\n        opacity: 0.5;\n    }\n}\n\n/* --- TAGS 標籤 --- */\n\n/* BASE 基礎 */\n.rm_tag_controls {\n    display: flex;\n    column-gap: 10px;\n    row-gap: 5px;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: flex-start;\n    margin: 10px 5px;\n}\n.tag {\n    opacity: 0.6;\n    border-color: transparent;\n    border-radius: 5px;\n    box-sizing: border-box;\n    padding: 2px 8px;\n    margin: 2px;\n    font-size: calc(var(--mainFontSize) * 0.85);\n    gap: 5px;\n    width: fit-content;\n    cursor: pointer;\n    transition: all 0.5s ease;\n    letter-spacing: 1.2px;\n    font-style: italic;\n    min-height: 23.5px;\n}\n.tag_view_list h3 {\n    min-width: unset !important;\n}\n\n/* --- FOLDERS 資料夾 --- */\n\n/* FOLDER - SELECTABLE 資料夾 - 可選 */\n.rm_tag_filter .tag.actionable {\n    justify-content: center;\n    align-items: center;\n    background-color: transparent !important;\n    color: var(--SmartThemeBodyColor);\n    text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);\n    box-shadow: none;\n    transition: all 0.5s ease;\n    cursor: pointer;\n}\n.rm_tag_filter .tag.actionable:hover {\n    color: var(--customThemeColor);\n    border: 1px solid var(--customThemeColor);\n}\n\n/* FOLDER - EXCLUDED 資料夾 - 排除 */\n.rm_tag_filter .tag.excluded {\n    opacity: 0.5 !important;\n    border: 1px dashed;\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    width: fit-content;\n    text-align: center;\n    box-shadow: none;\n    cursor: default;\n    color: var(--SmartThemeBodyColor);\n}\n.rm_tag_filter .tag.excluded::after {\n    content: \"\";\n}\n\n/* FOLDER - SELECTED 資料夾 - 選中 */\n.rm_tag_filter .tag.selected {\n    border: 1px solid var(--SmartThemeBodyColor);\n    cursor: default;\n}\n\n/* --- CREATOR NOTES 創作者筆記 --- */\n\n#creator_notes_spoiler img {\n    max-width: 100%;\n    height: auto;\n    display: block;\n    object-fit: contain;\n    margin: 0 auto;\n}\n\n/* --- GROUP CHAT 群組聊天 --- */\n\n#rm_group_members, #rm_group_add_members {\n    padding: 10px;\n}",
    "bogus_folders": true,
    "zoomed_avatar_magnification": false,
    "reduced_motion": false,
    "compact_input_area": true,
    "show_swipe_num_all_messages": false
}